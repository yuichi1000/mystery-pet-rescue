{
  "version": "1.0",
  "description": "チュートリアルクエストデータ",
  "tutorials": [
    {
      "id": "basic_movement",
      "name": "基本操作",
      "description": "移動とアクションの基本を学ぶ",
      "steps": [
        {
          "id": "welcome",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "ミステリー・ペット・レスキューへようこそ！",
            "あなたは迷子のペットを探し出し、飼い主の元に返す救助者です。",
            "まずは基本的な操作を覚えましょう。"
          ]
        },
        {
          "id": "movement_tutorial",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "WASDキーまたは矢印キーで移動できます。",
            "実際に動いてみてください。"
          ]
        },
        {
          "id": "movement_practice",
          "type": "objective",
          "description": "10歩移動する",
          "condition": {
            "type": "movement_distance",
            "value": 320
          },
          "hint": "WASDキーで移動してみましょう"
        },
        {
          "id": "action_tutorial",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "SPACEキーでアクションを実行できます。",
            "オブジェクトや動物に近づいてSPACEキーを押してみてください。"
          ]
        }
      ],
      "completion_reward": {
        "exp": 50,
        "items": ["energy_drink"]
      }
    },
    {
      "id": "first_pet_rescue",
      "name": "初めてのペット救助",
      "description": "迷子のペットを見つけて救助する",
      "prerequisites": ["basic_movement"],
      "steps": [
        {
          "id": "find_pet_intro",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "それでは実際にペットを救助してみましょう！",
            "この住宅街のどこかに迷子の犬がいます。",
            "探してみてください。"
          ]
        },
        {
          "id": "find_pet",
          "type": "objective",
          "description": "迷子のペットを見つける",
          "condition": {
            "type": "pet_discovered",
            "count": 1
          },
          "hint": "住宅街を歩き回ってペットを探しましょう"
        },
        {
          "id": "approach_pet",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "ペットを見つけましたね！",
            "でも、いきなり近づくと逃げてしまうかもしれません。",
            "慎重に近づいて、SPACEキーで話しかけてみてください。"
          ]
        },
        {
          "id": "interact_with_pet",
          "type": "objective",
          "description": "ペットと交流する",
          "condition": {
            "type": "pet_interaction",
            "count": 1
          },
          "hint": "ペットに近づいてSPACEキーを押しましょう"
        },
        {
          "id": "trust_building",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "ペットはまだ警戒しています。",
            "信頼関係を築くために、食べ物をあげたり、",
            "ミニゲームで遊んだりしてみましょう。"
          ]
        },
        {
          "id": "build_trust",
          "type": "objective",
          "description": "ペットの信頼度を70以上にする",
          "condition": {
            "type": "pet_trust_level",
            "value": 70
          },
          "hint": "食べ物やおもちゃを使って信頼関係を築きましょう"
        },
        {
          "id": "rescue_pet",
          "type": "objective",
          "description": "ペットを救助する",
          "condition": {
            "type": "pet_rescued",
            "count": 1
          },
          "hint": "信頼度が十分高くなったらペットを救助できます"
        },
        {
          "id": "rescue_complete",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "おめでとうございます！初めてのペット救助成功です！",
            "次は飼い主を見つけて、ペットを返してあげましょう。"
          ]
        }
      ],
      "completion_reward": {
        "exp": 200,
        "items": ["dog_food", "ball"]
      }
    },
    {
      "id": "return_pet",
      "name": "ペットを飼い主に返す",
      "description": "救助したペットを飼い主の元に返す",
      "prerequisites": ["first_pet_rescue"],
      "steps": [
        {
          "id": "find_owner_intro",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "救助したペットを飼い主に返しましょう。",
            "住宅街の人々に話しかけて、飼い主を探してください。"
          ]
        },
        {
          "id": "talk_to_npcs",
          "type": "objective",
          "description": "住民に話しかける",
          "condition": {
            "type": "npc_conversations",
            "count": 3
          },
          "hint": "住民に近づいてSPACEキーで話しかけましょう"
        },
        {
          "id": "find_owner",
          "type": "objective",
          "description": "ペットの飼い主を見つける",
          "condition": {
            "type": "owner_found",
            "count": 1
          },
          "hint": "心配そうにしている人を探しましょう"
        },
        {
          "id": "return_pet_to_owner",
          "type": "objective",
          "description": "ペットを飼い主に返す",
          "condition": {
            "type": "pet_returned",
            "count": 1
          },
          "hint": "飼い主にペットを返してあげましょう"
        },
        {
          "id": "tutorial_complete",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "素晴らしい！ペット救助の基本をマスターしました！",
            "これで一人前のペット救助者です。",
            "街にはまだたくさんの迷子のペットがいます。",
            "頑張って全てのペットを救助してください！"
          ]
        }
      ],
      "completion_reward": {
        "exp": 300,
        "items": ["pet_carrier", "universal_food"],
        "unlock": ["free_play_mode"]
      }
    },
    {
      "id": "inventory_tutorial",
      "name": "インベントリの使い方",
      "description": "アイテムの管理方法を学ぶ",
      "prerequisites": ["basic_movement"],
      "steps": [
        {
          "id": "inventory_intro",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "Iキーを押すとインベントリを開けます。",
            "アイテムの確認や使用ができます。",
            "実際に開いてみましょう。"
          ]
        },
        {
          "id": "open_inventory",
          "type": "objective",
          "description": "インベントリを開く",
          "condition": {
            "type": "inventory_opened",
            "count": 1
          },
          "hint": "Iキーを押してインベントリを開きましょう"
        },
        {
          "id": "use_item",
          "type": "objective",
          "description": "アイテムを使用する",
          "condition": {
            "type": "item_used",
            "count": 1
          },
          "hint": "インベントリからアイテムを選んで使用しましょう"
        }
      ],
      "completion_reward": {
        "exp": 100,
        "items": ["flashlight"]
      }
    },
    {
      "id": "mini_game_tutorial",
      "name": "ミニゲームの遊び方",
      "description": "ペットとのミニゲームを体験する",
      "prerequisites": ["first_pet_rescue"],
      "steps": [
        {
          "id": "mini_game_intro",
          "type": "dialog",
          "speaker": "ガイド",
          "text": [
            "ペットとの信頼関係を築く最も効果的な方法は",
            "ミニゲームで一緒に遊ぶことです。",
            "キャッチゲームに挑戦してみましょう！"
          ]
        },
        {
          "id": "play_mini_game",
          "type": "objective",
          "description": "ミニゲームをプレイする",
          "condition": {
            "type": "mini_game_played",
            "count": 1
          },
          "hint": "ペットに近づいてミニゲームを開始しましょう"
        },
        {
          "id": "mini_game_success",
          "type": "objective",
          "description": "ミニゲームで成功する",
          "condition": {
            "type": "mini_game_success",
            "count": 1
          },
          "hint": "落ちてくるボールをキャッチしましょう"
        }
      ],
      "completion_reward": {
        "exp": 150,
        "items": ["ball", "feather_toy"]
      }
    }
  ],
  "tutorial_settings": {
    "auto_start": true,
    "skippable": true,
    "show_hints": true,
    "highlight_objectives": true,
    "pause_game_during_dialog": true
  }
}
