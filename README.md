# ミステリー・ペットレスキュー

住宅街で迷子になったペットたちを時間内に救出するアドベンチャーゲーム

## 🎮 今すぐプレイ！

**ブラウザで直接プレイ可能**（インストール不要）

- **🌐 ゲーム説明ページ**: https://yuichi1000.github.io/mystery-pet-rescue/
- **🎮 ゲームプレイ**: https://yuichi1000.github.io/mystery-pet-rescue/game.html

> **Pygbag技術**により、Python+PygameゲームをWebAssembly(WASM)に変換してブラウザで実行

### 主な特徴
- **探索**: 住宅街マップを歩き回り、隠れているペットを発見
- **4種類のペット**: 犬・猫・うさぎ・鳥を救出
- **時間制限**: 3分以内に全ペットを救出
- **多言語対応**: 日本語・英語に対応
- **動的BGM**: Beatoven.ai APIによる場面に応じた音楽生成

### ゲームの流れ
1. 住宅街を探索して4匹のペットを発見
2. ペットに近づいてEキーで救出
3. 3分以内に全ペット救出でゲームクリア！

## 動作環境

### ブラウザ版（推奨）
- **ブラウザ**: Chrome、Firefox、Safari、Edge（最新版）
- **インターネット接続**: 初回ロード時のみ必要
- **ストレージ**: 不要（ブラウザキャッシュのみ）

### デスクトップ版（開発者向け）
- **Python**: 3.8以上
- **OS**: Windows、macOS、Linux
- **RAM**: 512MB以上
- **ストレージ**: 100MB以上

### 依存関係
- Pygame 2.0以上
- requests (音声生成用)
- python-dotenv (設定管理用)

## インストール・実行

### ブラウザ版（最も簡単）
1. https://yuichi1000.github.io/mystery-pet-rescue/game.html にアクセス
2. 「Ready to start !」が表示されたらクリック
3. ゲーム開始！

### デスクトップ版（開発者向け）
```bash
# リポジトリをクローン
git clone [repository-url]
cd mystery-pet-rescue

# 依存関係をインストール
pip install -r requirements.txt

# ゲームを実行
python main.py
```

### Web版のビルド（開発者向け）
```bash
# Pygbagでブラウザ版をビルド
python -m pygbag --build main.py

# 生成されたファイルはbuild/web/に出力
```

## 操作方法

### 基本操作
- **WASD/矢印キー**: プレイヤー移動
- **E**: ペット救出（近接時）
- **ESC**: メニューに戻る
- **P**: ゲーム一時停止

### デバッグ・表示切り替え（開発用）
- **F5**: 衝突判定情報をコンソールに出力
- **F6**: 衝突判定の視覚表示切り替え

## 実装済み機能

### ✅ コアシステム
- **マップシステム**: タイルベース、カメラ追従、建物配置
- **時間制限システム**: 3分タイマー、警告表示
- **多言語対応**: 日本語・英語切り替え、UI・テキスト対応
- **音響システム**: BGM・効果音対応（Beatoven.ai API統合）

### ✅ ゲーム機能
- **プレイヤーシステム**: スムーズな移動、衝突判定
- **ペットAI**: 自然な動き、ランダム配置
- **通知システム**: 5種類の通知タイプ、フェードアウト効果
- **UI**: ミニマップ、タイマー表示、救出ペット表示

## 開発情報

### プロジェクト構造
```
mystery-pet-rescue/
├── main.py                 # ゲーム起動
├── src/                    # ソースコード
│   ├── core/              # ゲームコア
│   ├── scenes/            # ゲームシーン
│   ├── entities/          # ゲームオブジェクト
│   ├── systems/           # ゲームシステム
│   ├── ui/                # ユーザーインターフェース
│   └── utils/             # ユーティリティ
├── assets/                # ゲームアセット
│   ├── images/           # 画像ファイル
│   ├── sounds/           # 効果音
│   └── icons/            # アイコンファイル
├── config/               # 設定ファイル
└── locales/              # 多言語ファイル
```

### 技術仕様
- **画面解像度**: 1280×720（HD）
- **フレームレート**: 60FPS
- **タイルサイズ**: 64×64ピクセル
- **音声形式**: MP3、OGG、WAV対応
- **Web変換**: Pygbag (Python→WebAssembly)
- **ブラウザ互換**: モダンブラウザ対応